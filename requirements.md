# 漢字書き取りアプリ 要件定義書

## 1. アプリケーション概要
**名称**: 小学生向け 漢字書き取り練習アプリ（仮）
**目的**: タブレット（iPad）を用いて、文章の中で正しく漢字を書ける能力を養う。
**ターゲット**: 小学生（1年生〜6年生）

## 2. ユーザー体験 (UX)
### コンセプト
「ドリル」ではなく「クイズ」感覚でサクサク進める学習アプリ。

### 利用フロー
1.  **起動**: タイトル画面で「学年」を選択する。
2.  **出題**: ひらがなの文章が表示される。その中の「強調された部分」を漢字で書く。
3.  **回答**: 画面中央の大きな書き取りエリアに指またはタッチペンで漢字を書く。
4.  **判定**:
    *   **正解**: 即座に「ピンポン！」と鳴り、次の問題へ自動遷移（テンポ重視）。
    *   **不正解/途中**: 書き順を間違えると、その画がヒントとしてうっすら表示される。
5.  **完了**: 1セット（例: 5-10問）終了後、結果画面で褒められる。

## 3. 機能要件

### A. 出題システム
*   **文脈重視**: 単語単体ではなく、短文形式で出題する。
*   **視認性**:
    *   問題文は全てひらがな。
    *   回答対象の単語を**太字・色付き**で強調表示する。
    *   例：「**あか** い りんご を たべる」

### B. 書き取り判定
*   **エンジン**: `hanzi-writer` ライブラリを使用。
*   **判定基準**: トメ・ハネ・書き順を判定する。
*   **ガイド表示**:
    *   デフォルトでは手本（下書き）は**非表示**（ブラインドテスト）。
    *   ミスした時のみ、次の正解の画をガイドとして表示する。

### C. データ管理・拡張性
*   **管理方法**: **CSVファイル**による管理。
*   **記述フォーマット**:
    *   回答対象を `[ ]` で囲む独自の記法を採用。
    *   例: `[にち]ようび,日`
    *   **メリット**: 文字数を数える必要がなく、Excelやスプレッドシートで誰でも簡単に問題を追加可能。

### D. UI/UX (iPad最適化)
*   **誤操作防止**: 書き取りエリア周辺のタッチ操作（スクロール、ズーム）を無効化する。
*   **デザイン**:
    *   子供に親しみやすいデザイン（丸ゴシック体、パステルカラー）。
    *   ボタンやタッチエリアを大きく確保する。

## 4. 非機能要件
*   **プラットフォーム**: iPad (Safari/Chrome), PCブラウザ
*   **パフォーマンス**: 解答後の待ち時間をなくし、ストレスのない遷移を実現する。
*   **デプロイ**: 静的ホスティング（GitHub Pages等）で動作すること。

## 5. 技術スタック
*   **Frontend**: React (Vite), TypeScript
*   **Styling**: Tailwind CSS (v4)
*   **Libraries**: Hanzi Writer, PapaParse (CSV解析)
